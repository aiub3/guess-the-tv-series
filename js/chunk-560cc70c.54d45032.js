(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-560cc70c"],{"1e9c":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{key:e.$route.params.id,attrs:{align:"center"}},[i("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[i("v-list-item",{style:{"background-color":e.levelCompleted?e.levelCompletedColor:"white"}},[i("v-list-item-avatar",{staticClass:"coin",attrs:{color:"blue-grey lighten-4"}},[e._v(e._s(e.hits))]),i("v-list-item-content",[i("v-list-item-title",{staticClass:"headline"},[e._v("Level "+e._s(e.hits))])],1),i("span",[i("v-icon",{attrs:{medium:""}},[e._v("mdi-alarm")]),e._v(" "+e._s(e.timer))],1)],1),e.loading?i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):[e.impossibleMode?i("ImpossibleExtras",{attrs:{timer:e.timer,startAudio:e.startAudio,finishedGame:e.finishedGame}}):e._e(),e.levelCompleted?i("v-img",{staticClass:"poster_picture",attrs:{src:e.posterPicture}}):[e.mainPicture?i("v-img",{attrs:{src:e.mainPicture,height:"194"}}):e._e(),e.name?i("AnswerInput",{attrs:{name:e.name},on:{setLevelCompleted:function(t){return e.finishLevel("success")}}}):e._e(),e.description&&"picture"!==e.mode?i("v-card-text",{domProps:{innerHTML:e._s(e.description)}}):e._e()]]],2)],1),e.levelCompleted&&!e.finishedGame?i("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"success"},on:{click:e.getRandomSerie}},[e._v("Next")])],1):e._e(),!e.finishedGame&&e.name?i("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"error"},on:{click:e.finishLevel}},[e._v("Finish game")])],1):i("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"success"},on:{click:e.restartGame}},[e._v("Restart")]),i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"primary",to:"/survival-mode"}},[e._v("Back to options")])],1)],1)},r=[],n=(i("a4d3"),i("e01a"),i("99af"),i("c975"),i("b0c0"),i("3ca3"),i("ddb0"),i("96cf"),i("1da1")),a=i("5530"),o=i("2f62"),c=11,l=20,u=30,d={DIFFICULT_FIRST_PAGE:c,DIFFICULT_LAST_PAGE:l,INTERVAL_SECONDS:u},h=i("c51c"),m=i("e1cb"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.finishedGame?s("video",{attrs:{width:"320",height:"240",autoplay:"",loop:"",controls:""}},[s("source",{attrs:{src:i("c504"),type:"video/mp4"}}),e._v(" Your browser does not support the video tag. ")]):s("img",{staticClass:"impossible_img",style:{transform:"scale("+e.impossibleImgScale+")"},attrs:{src:i("9376"),alt:"The wait for you"}})])},p=[],v=(i("a9e3"),{props:{timer:{type:Number,required:!0},startAudio:{type:Boolean,default:!1},finishedGame:{type:Boolean,default:!1}},data:function(){return{audio:new Audio(i("969e"))}},computed:{impossibleImgScale:function(){return 1-this.timer/d.INTERVAL_SECONDS}},watch:{startAudio:function(e,t){e?this.audio.play():(this.audio.pause(),this.audio.currentTime=0)}},created:function(){this.audio.play()}}),g=v,b=(i("7043"),i("2877")),_=Object(b["a"])(g,f,p,!1,null,null,null),C=_.exports,S=i("418c"),w={mounted:function(){this.setSeries()},components:{AnswerInput:m["a"],ImpossibleExtras:C},mixins:[S["a"]],data:function(){return{series:this.$store.state.topSeries.series.length?this.$store.state.topSeries.series:[],serie:{},hits:0,completedIndexes:[],timer:d.INTERVAL_SECONDS,intervalFunction:"",startAudio:!1,levelCompleted:!1,levelCompletedColor:"#81C784",finishedGame:!1,loading:!0}},computed:Object(a["a"])({},Object(o["c"])({topSeries:function(e){return e.topSeries.series}}),{difficulty:function(){return this.$route.params.difficulty},mode:function(){return this.$route.query.mode},mainPicture:function(){return"description"!==this.mode&&this.serie&&this.serie.pictures.length?this.serie.pictures[this.serie.pictures.length-1]:""},impossibleMode:function(){return"impossible"===this.difficulty}}),watch:{$route:function(e,t){this.setSeries()},topSeries:function(e){this.series=e},series:function(e){e.length&&!this.serie.id&&this.getRandomSerie()},serie:function(e){e&&e.pictures&&!e.id&&("picture"===this.mode&&!e.pictures.length||"description"===this.mode&&!e.description||"picture"!==this.mode&&"description"!==this.mode&&!e.pictures.length||!e.description)&&this.getRandomSerie()}},methods:Object(a["a"])({},Object(o["b"])(["saveSurvivalMode"]),{setSeries:function(){"difficult"===this.difficulty?(this.series=[],this.fetchSeries(d.DIFFICULT_FIRST_PAGE,d.DIFFICULT_LAST_PAGE)):this.series.length&&this.getRandomSerie()},fetchSeries:function(e,t){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:r=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].getTopSeries(t).then((function(e){i.series=i.series.concat(e.data.tv_shows),(!i.serie||i.serie&&!i.serie.name)&&i.getRandomSerie()})).catch((function(e){console.log("Error getting Top series from page ".concat(t,". Error info: ").concat(e))}));case 2:case"end":return e.stop()}}),e)})),n=e;case 2:if(!(n<=t)){s.next=7;break}return s.delegateYield(r(n),"t0",4);case 4:n++,s.next=2;break;case 7:case"end":return s.stop()}}),s)})))()},getRandomSerie:function(){var e=this;this.timer=d.INTERVAL_SECONDS,this.levelCompleted=!1,this.loading=!0;var t=this.generateRandomNumber(0,this.series.length,this.completedIndexes);this.completedIndexes.push(t);var i=this.series[t].id;this.serie=this.fetchLevelSerie(i).then((function(t){e.loading=!1})),this.intervalFunction||this.startTimer()},startTimer:function(){var e=this;this.startAudio=!0,this.intervalFunction=setInterval((function(){e.timer--,0===e.timer&&e.finishLevel()}),1e3)},generateRandomNumber:function(e,t,i){var s=Math.round(Math.random()*(t-e))+e;return i.indexOf(s)>-1?this.generateRandomNumber(e,t,i):s},finishLevel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"failed";clearInterval(this.intervalFunction),this.intervalFunction="",this.levelCompleted=!0,this.startAudio=!1,"success"===e?this.setLevelSuccesful():this.setLevelFailed()},setLevelSuccesful:function(){this.hits++,this.levelCompletedColor="#81C784"},setLevelFailed:function(){this.levelCompletedColor="#EF5350",this.finishedGame=!0;var e={points:this.hits,difficulty:this.difficulty,mode:this.mode};this.saveSurvivalMode(e)},restartGame:function(){this.hits=0,this.completedIndexes=[],this.finishedGame=!1,this.getRandomSerie()}})},x=w,y=i("6544"),E=i.n(y),L=i("8336"),I=i("b0af"),R=i("99d9"),A=i("62ad"),k=i("132d"),T=i("adda"),O=i("da13"),F=i("8270"),V=i("5d23"),j=i("490a"),P=i("0fd9"),G=Object(b["a"])(x,s,r,!1,null,null,null);t["default"]=G.exports;E()(G,{VBtn:L["a"],VCard:I["a"],VCardText:R["b"],VCol:A["a"],VIcon:k["a"],VImg:T["a"],VListItem:O["a"],VListItemAvatar:F["a"],VListItemContent:V["a"],VListItemTitle:V["b"],VProgressCircular:j["a"],VRow:P["a"]})},"418c":function(e,t,i){"use strict";i("a4d3"),i("e01a"),i("99af"),i("b0c0"),i("4d63"),i("ac1f"),i("25f0"),i("5319");var s=i("c51c");t["a"]={computed:{posterPicture:function(){return this.serie?this.serie.image_path:""},name:function(){return this.serie?this.serie.name:""},description:function(){var e=this.serie?this.serie.description:"";try{return e.replace(new RegExp(this.name,"gi"),"<b>???</b>")}catch(t){return e}}},methods:{fetchLevelSerie:function(e){var t=this;return s["a"].getLevelSerie(e).then((function(e){t.serie=e.data.tvShow})).catch((function(t){console.log("Error getting level serie with id ".concat(e,". Error info: ").concat(t))}))}}}},"4d63":function(e,t,i){var s=i("83ab"),r=i("da84"),n=i("94ca"),a=i("7156"),o=i("9bf2").f,c=i("241c").f,l=i("44e7"),u=i("ad6d"),d=i("9f7f"),h=i("6eeb"),m=i("d039"),f=i("69f3").set,p=i("2626"),v=i("b622"),g=v("match"),b=r.RegExp,_=b.prototype,C=/a/g,S=/a/g,w=new b(C)!==C,x=d.UNSUPPORTED_Y,y=s&&n("RegExp",!w||x||m((function(){return S[g]=!1,b(C)!=C||b(S)==S||"/a/i"!=b(C,"i")})));if(y){var E=function(e,t){var i,s=this instanceof E,r=l(e),n=void 0===t;if(!s&&r&&e.constructor===E&&n)return e;w?r&&!n&&(e=e.source):e instanceof E&&(n&&(t=u.call(e)),e=e.source),x&&(i=!!t&&t.indexOf("y")>-1,i&&(t=t.replace(/y/g,"")));var o=a(w?new b(e,t):b(e,t),s?this:_,E);return x&&i&&f(o,{sticky:i}),o},L=function(e){e in E||o(E,e,{configurable:!0,get:function(){return b[e]},set:function(t){b[e]=t}})},I=c(b),R=0;while(I.length>R)L(I[R++]);_.constructor=E,E.prototype=_,h(r,"RegExp",E)}p("RegExp")},"615b":function(e,t,i){},7043:function(e,t,i){"use strict";var s=i("b1fd"),r=i.n(s);r.a},9376:function(e,t,i){e.exports=i.p+"img/impossible_img.b81232d0.jpg"},"969e":function(e,t,i){e.exports=i.p+"media/impossible_audio.a467d660.mp3"},"99d9":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return c}));var s=i("b0af"),r=i("80d2"),n=Object(r["h"])("v-card__actions"),a=Object(r["h"])("v-card__subtitle"),o=Object(r["h"])("v-card__text"),c=Object(r["h"])("v-card__title");s["a"]},b0af:function(e,t,i){"use strict";i("0481"),i("4069"),i("a9e3");var s=i("5530"),r=(i("615b"),i("10d2")),n=i("297c"),a=i("1c87"),o=i("58df");t["a"]=Object(o["a"])(n["a"],a["a"],r["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean,shaped:Boolean},computed:{classes:function(){return Object(s["a"])({"v-card":!0},a["a"].options.computed.classes.call(this),{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,"v-card--shaped":this.shaped},r["a"].options.computed.classes.call(this))},styles:function(){var e=Object(s["a"])({},r["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=n["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),i=t.tag,s=t.data;return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),e(i,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},b1fd:function(e,t,i){},c504:function(e,t,i){e.exports=i.p+"media/impossible_video.fd7765f2.mp4"},e1cb:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"8"}},[i("v-text-field",{attrs:{label:e.label,hint:e.hint,"single-line":e.singleLine,clearable:e.clearable,"persistent-hint":e.persistentHint,counter:e.counter,error:e.inputError},on:{input:e.checkAnswer},model:{value:e.userAnswer,callback:function(t){e.userAnswer=t},expression:"userAnswer"}})],1)],1)},r=[],n=(i("4160"),i("b0c0"),i("ac1f"),i("1276"),i("159b"),{props:{name:{type:String,required:!0}},data:function(){return{userAnswer:"",label:"Your answer",hint:"",singleLine:!0,clearable:!0,persistentHint:!1,inputError:!1}},computed:{counter:function(){return this.name.length}},methods:{checkAnswer:function(e){var t=e.toLowerCase(),i=this.name.toLowerCase(),s=this.findDiff(t,i);s.length>0&&s.length<=3?this.hint="You almost have it":this.hint="",e.length>=this.counter?t===i?this.$emit("setLevelCompleted"):this.inputError=!0:this.inputError=!1},findDiff:function(e,t){var i="";return t.split("").forEach((function(t,s){t!==e.charAt(s)&&(i+=t)})),i}}}),a=n,o=i("2877"),c=i("6544"),l=i.n(c),u=i("62ad"),d=i("0fd9"),h=i("8654"),m=Object(o["a"])(a,s,r,!1,null,null,null);t["a"]=m.exports;l()(m,{VCol:u["a"],VRow:d["a"],VTextField:h["a"]})}}]);
//# sourceMappingURL=chunk-560cc70c.54d45032.js.map